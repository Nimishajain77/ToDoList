 {% extends 'base.html' %}
{% block title %}
   Home
{% endblock title %}
{% block body %}
 <!-- <div class="container my-3">
    <form action="/" method="POST">
      <div class="mb-3">
        <label for="exampleFormControlInput1" class="form-label">ToDo Title</label>
        <input type="text" class="form-control" id="exampleFormControlInput1" name="title">
      </div>
      <div class="mb-3">
        <label for="exampleFormControlTextarea1" class="form-label">ToDo Description</label>
        <textarea class="form-control" id="exampleFormControlTextarea1" name="description" rows="3"></textarea>
      </div>
      <button type="submit" class="btn btn-outline-dark">Submit</button>
    </form>
  </div>
  <class class="container my-3 mx-1">
    <h class="text-center fw-bold fs-4 mx-5 py-3">TODOS</h>
    <table class="table">
      {% if allTodos|length ==0 %}
      <div class="alert alert-dark p-3 mx-5 my-3" role="alert">
        A simple dark alert—check it out!
      </div>
      {% else %}
        
      <thead>
        <tr>
          <th scope="col">Sno</th>
          <th scope="col">Title</th>
          <th scope="col">Description</th>
          <th scope="col">Deadline</th>
          <th scope="col">
             Actions
          </th>
        </tr>
      </thead>
      <tbody>
        {% for todo in allTodos %}
        <tr>
          <th scope="row">{{loop.index}}</th>
          <td>{{todo.title}}</td>
          <td>{{todo.description}}</td>
          <td>{{todo.deadline}}</td>
          <td>
            <a href="/update/{{todo.sno}}" type="button" class="btn btn-outline-dark btn-sm mx-1">Update</a>
            <a href="/delete/{{todo.sno}}" type="button" class="btn btn-outline-dark btn-sm mx-1">Delete</a>

          </td>
        </tr>
        {% endfor %}

      </tbody>
    </table>
      {% endif %}

     
  </class>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
    crossorigin="anonymous"></script>-->

    <div class="container my-3">
      <form action="/" method="POST">
        <div class="mb-3">
          <label for="exampleFormControlInput1" class="form-label">ToDo Title</label>
          <input type="text" class="form-control" id="exampleFormControlInput1" name="title">
        </div>
        <div class="mb-3">
          <label for="exampleFormControlTextarea1" class="form-label">ToDo Description</label>
          <textarea class="form-control" id="exampleFormControlTextarea1" name="description" rows="3"></textarea>
        </div>
        <button type="submit" class="btn btn-outline-dark">Submit</button>
      </form>
    </div>
  
    <div class="container my-3">
      <h class="text-center fw-bold fs-4 py-3">TODOS</h>
      {% if allTodos|length == 0 %}
        <div class="alert alert-dark p-3 mx-5 my-3" role="alert">
          A simple dark alert—check it out!
        </div>
      {% else %}
        <div class="table-container mx-2 my-3">
          <table class="table">
            <thead>
              <tr>
                <th scope="col">Sno</th>
                <th scope="col">Title</th>
                <th scope="col">Description</th>
                <th scope="col">Deadline</th>
                <th scope="col">Actions</th>
              </tr>
            </thead>
            <tbody>
              {% for todo in allTodos %}
                <tr>
                  <th scope="row">{{ loop.index }}</th>
                  <td>{{ todo.title }}</td>
                  <td>{{ todo.description }}</td>
                  <td>{{ todo.deadline }}</td>
                  <td>
                    <a href="/update/{{ todo.sno }}" class="btn btn-outline-dark btn-sm mx-1">Update</a>
                    <a href="/delete/{{ todo.sno }}" class="btn btn-outline-dark btn-sm mx-1">Delete</a>
                  </td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      {% endif %}
    </div>
  
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
      crossorigin="anonymous"></script>
      <script>
        function filterTodos() {
          var input, filter, table, tr, td, i, txtValue;
          input = document.getElementById("searchTitle");
          filter = input.value.toUpperCase();
          table = document.querySelector(".table");
          tr = table.getElementsByTagName("tr");
    
          for (i = 1; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td")[1]; // Assuming title is in the second column (index 1)
            if (td) {
              txtValue = td.textContent || td.innerText;
              if (txtValue.toUpperCase().indexOf(filter) > -1) {
                tr[i].style.display = ""; // Display the row if it matches the search
              } else {
                tr[i].style.display = "none"; // Hide the row if it doesn't match the search
              }
            }
          }
        }
      </script>
{% endblock body %}
